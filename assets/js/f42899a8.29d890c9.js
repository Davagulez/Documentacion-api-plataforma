"use strict";(self.webpackChunkapi_plataforma_hogar=self.webpackChunkapi_plataforma_hogar||[]).push([[3418],{4930:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>o,contentTitle:()=>t,default:()=>u,frontMatter:()=>i,metadata:()=>l,toc:()=>d});var a=n(4848),s=n(8453);const i={},t="Usuarios",l={id:"Endpoints/Usuarios",title:"Usuarios",description:"En esta secci\xf3n est\xe1n todos los endpoints relacionados con la entidad del usuario, sin tener en cuenta la forma que maneja a los usuarios el sistema de strapi.",source:"@site/docs/Endpoints/Usuarios.md",sourceDirName:"Endpoints",slug:"/Endpoints/Usuarios",permalink:"/Documentacion-api-plataforma/docs/Endpoints/Usuarios",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Endpoints/Usuarios.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Endpoints",permalink:"/Documentacion-api-plataforma/docs/category/endpoints"},next:{title:"Tutorial Intro",permalink:"/Documentacion-api-plataforma/docs/intro"}},o={},d=[{value:"Endpoints",id:"endpoints",level:2},{value:"Ver Usuarios",id:"ver-usuarios",level:3},{value:"Ver un Usuario Espec\xedfico",id:"ver-un-usuario-espec\xedfico",level:4},{value:"Crear un Usuario",id:"crear-un-usuario",level:3},{value:"Actualizar un Usuario",id:"actualizar-un-usuario",level:3},{value:"Borrar un Usuario",id:"borrar-un-usuario",level:3}];function c(e){const r={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.h1,{id:"usuarios",children:"Usuarios"}),"\n",(0,a.jsx)(r.p,{children:"En esta secci\xf3n est\xe1n todos los endpoints relacionados con la entidad del usuario, sin tener en cuenta la forma que maneja a los usuarios el sistema de strapi."}),"\n",(0,a.jsxs)(r.blockquote,{children:["\n",(0,a.jsxs)(r.p,{children:["Para estas rutas y las demas relacionadas a las otras entidades\r\nes necesario ",(0,a.jsx)(r.strong,{children:"agregar a cada ruta el token de autenticaci\xf3n"})," que se\r\nobtiene ",(0,a.jsx)(r.strong,{children:"cuando se inicia sesi\xf3n"})," en el sistema."]}),"\n"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-json",metastring:"title='Token de autenticaci\xf3n'",children:"    \r\n'BearerToken':{\r\n    eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywiaWF0IjoxNzA3MjQ5NjQ1LCJleHAiOjE3MDk4NDE2NDV9.hb4omt4-Gcq8QZAFY4RyGK8neR01HCTZXGE6LjMI77w\r\n}\r\n    \n"})}),"\n",(0,a.jsx)(r.h2,{id:"endpoints",children:"Endpoints"}),"\n",(0,a.jsxs)(r.table,{children:[(0,a.jsx)(r.thead,{children:(0,a.jsxs)(r.tr,{children:[(0,a.jsx)(r.th,{style:{textAlign:"left"},children:"Metodo"}),(0,a.jsx)(r.th,{style:{textAlign:"left"},children:"URL"}),(0,a.jsx)(r.th,{style:{textAlign:"left"},children:"Descripcion"})]})}),(0,a.jsxs)(r.tbody,{children:[(0,a.jsxs)(r.tr,{children:[(0,a.jsx)(r.td,{style:{textAlign:"left"},children:(0,a.jsx)(r.code,{children:"GET"})}),(0,a.jsx)(r.td,{style:{textAlign:"left"},children:(0,a.jsx)(r.code,{children:"/api/users"})}),(0,a.jsx)(r.td,{style:{textAlign:"left"},children:(0,a.jsx)(r.a,{href:"#ver-usuarios",children:(0,a.jsx)(r.strong,{children:"Ver una lista de usuarios"})})})]}),(0,a.jsxs)(r.tr,{children:[(0,a.jsx)(r.td,{style:{textAlign:"left"},children:(0,a.jsx)(r.code,{children:"GET"})}),(0,a.jsx)(r.td,{style:{textAlign:"left"},children:(0,a.jsx)(r.code,{children:"/api/users/:id"})}),(0,a.jsx)(r.td,{style:{textAlign:"left"},children:(0,a.jsx)(r.a,{href:"#ver-un-usuario-espec%C3%ADfico",children:(0,a.jsx)(r.strong,{children:"Ver un usuario"})})})]}),(0,a.jsxs)(r.tr,{children:[(0,a.jsx)(r.td,{style:{textAlign:"left"},children:(0,a.jsx)(r.code,{children:"POST"})}),(0,a.jsx)(r.td,{style:{textAlign:"left"},children:(0,a.jsx)(r.code,{children:"/api/users"})}),(0,a.jsx)(r.td,{style:{textAlign:"left"},children:(0,a.jsx)(r.a,{href:"#crear-un-usuario",children:(0,a.jsx)(r.strong,{children:"Crear un usuario"})})})]}),(0,a.jsxs)(r.tr,{children:[(0,a.jsx)(r.td,{style:{textAlign:"left"},children:(0,a.jsx)(r.code,{children:"PUT"})}),(0,a.jsx)(r.td,{style:{textAlign:"left"},children:(0,a.jsx)(r.code,{children:"/api/users/:id"})}),(0,a.jsx)(r.td,{style:{textAlign:"left"},children:(0,a.jsx)(r.a,{href:"#actualizar-un-usuario",children:(0,a.jsx)(r.strong,{children:"Editar un usuario"})})})]}),(0,a.jsxs)(r.tr,{children:[(0,a.jsx)(r.td,{style:{textAlign:"left"},children:(0,a.jsx)(r.code,{children:"DELETE"})}),(0,a.jsx)(r.td,{style:{textAlign:"left"},children:(0,a.jsx)(r.code,{children:"/api/users/:id"})}),(0,a.jsx)(r.td,{style:{textAlign:"left"},children:(0,a.jsx)(r.a,{href:"#borrar-un-usuario",children:(0,a.jsx)(r.strong,{children:"Borrar un usuario"})})})]})]})]}),"\n",(0,a.jsx)(r.h3,{id:"ver-usuarios",children:"Ver Usuarios"}),"\n",(0,a.jsx)(r.p,{children:"Esta ruta devuelve una lista con todos los usuarios"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-http",metastring:'title="GET"',children:" /api/users\n"})}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-http",metastring:"title='Ruta en desarrollo'",children:" http://localhost:1337/api/users\n"})}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-json",metastring:"title='Respuesta'",children:'    [\r\n  {\r\n    "id": 1,\r\n    "username": "prueba3",\r\n    "email": "prueba1@hotmail.com",\r\n    "provider": "local",\r\n    "confirmed": true,\r\n    "blocked": false,\r\n    "dni": "124578963",\r\n    "direccion": "calle123",\r\n    "createdAt": "2024-01-26T16:35:02.832Z",\r\n    "updatedAt": "2024-01-26T16:35:02.832Z",\r\n    "nombre": null,\r\n    "apellido": null\r\n  },\r\n  {\r\n    "id": 3,\r\n    "username": "prueba4",\r\n    "email": "prueba2@hotmail.com",\r\n    "provider": "local",\r\n    "confirmed": true,\r\n    "blocked": false,\r\n    "dni": "124578964",\r\n    "direccion": "calle123",\r\n    "createdAt": "2024-01-26T18:03:07.402Z",\r\n    "updatedAt": "2024-01-26T18:10:31.413Z",\r\n    "nombre": "nombrecambiado123",\r\n    "apellido": "apellidocambiado123"\r\n  },\r\n  {\r\n    "id": 5,\r\n    "username": "prueba5",\r\n    "email": "prueba5@hotmail.com",\r\n    "provider": "local",\r\n    "confirmed": false,\r\n    "blocked": false,\r\n    "dni": "124578965",\r\n    "direccion": "calle123",\r\n    "createdAt": "2024-01-31T11:45:38.918Z",\r\n    "updatedAt": "2024-01-31T11:45:51.579Z",\r\n    "nombre": "nombrecambiado123",\r\n    "apellido": "apellidocambiado123"\r\n  },\r\n  {\r\n    "id": 6,\r\n    "username": "prueba6",\r\n    "email": "prueba6@hotmail.com",\r\n    "provider": "local",\r\n    "confirmed": false,\r\n    "blocked": false,\r\n    "dni": "124578969",\r\n    "direccion": "calle123",\r\n    "createdAt": "2024-01-31T16:47:16.993Z",\r\n    "updatedAt": "2024-01-31T16:47:16.993Z",\r\n    "nombre": "nombrecambiado123",\r\n    "apellido": "apellidocambiado123"\r\n  }\r\n]\n'})}),"\n",(0,a.jsx)(r.h4,{id:"ver-un-usuario-espec\xedfico",children:"Ver un Usuario Espec\xedfico"}),"\n",(0,a.jsx)(r.p,{children:"Del mismo modo, si quiero ver un usuario en espec\xedfico se agrega el identificador \xfanico a la ruta:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-http",metastring:'title="GET"',children:" /api/users/:id\n"})}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-http",metastring:"title='Ruta en desarrollo'",children:" http://localhost:1337/api/users/1\n"})}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-json",metastring:"title=' respuesta'",children:'{\r\n  "id": 3,\r\n  "username": "prueba4",\r\n  "email": "prueba2@hotmail.com",\r\n  "provider": "local",\r\n  "confirmed": true,\r\n  "blocked": false,\r\n  "dni": "124578964",\r\n  "direccion": "calle123",\r\n  "createdAt": "2024-01-26T18:03:07.402Z",\r\n  "updatedAt": "2024-01-26T18:10:31.413Z",\r\n  "nombre": "nombrecambiado123",\r\n  "apellido": "apellidocambiado123"\r\n}\n'})}),"\n",(0,a.jsx)(r.h3,{id:"crear-un-usuario",children:"Crear un Usuario"}),"\n",(0,a.jsx)(r.p,{children:"La ruta para crear un usuario es la siguiente :"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-http",metastring:'title="POST"',children:" /api/users/\n"})}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-http",metastring:"title='Ruta en desarrollo'",children:" http://localhost:1337/api/users\n"})}),"\n",(0,a.jsx)(r.p,{children:"Para crear el usuario se necesita enviar la informaci\xf3n correspondiente que se va a almacenar, a trav\xe9s del body de la consulta POST:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-json",metastring:"title='body'",children:'    {\r\n        "username": "prueba7",\r\n        "email": "prueba7@hotmail.com",\r\n        "password":"123456",\r\n        "dni": "124578970",\r\n        "direccion": "calle123",\r\n        "nombre": "nombrecambiado123",\r\n        "apellido": "apellidocambiado123",\r\n        "role":"2"\r\n    }\n'})}),"\n",(0,a.jsxs)(r.p,{children:["donde todos esos valores del body son datos del usuario en si, y ",(0,a.jsx)(r.strong,{children:'"role"'})," es una clasificaci\xf3n de strapi para diferenciar a los usuarios del sistema."]}),"\n",(0,a.jsx)(r.p,{children:"Esta ruta devuelve los datos del usuario una vez que se creo con exito:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-json",metastring:"title='Respuesta'",children:'{\r\n  "id": 7,\r\n  "username": "prueba7",\r\n  "email": "prueba7@hotmail.com",\r\n  "provider": "local",\r\n  "confirmed": false,\r\n  "blocked": false,\r\n  "dni": "124578970",\r\n  "direccion": "calle123",\r\n  "createdAt": "2024-02-20T13:09:32.985Z",\r\n  "updatedAt": "2024-02-20T13:09:32.985Z",\r\n  "nombre": "nombrecambiado123",\r\n  "apellido": "apellidocambiado123",\r\n  "role": {\r\n    "id": 2,\r\n    "name": "Public",\r\n    "description": "Default role given to unauthenticated user.",\r\n    "type": "public",\r\n    "createdAt": "2024-01-26T14:46:35.085Z",\r\n    "updatedAt": "2024-01-26T14:46:35.085Z"\r\n  }\r\n}\n'})}),"\n",(0,a.jsx)(r.h3,{id:"actualizar-un-usuario",children:"Actualizar un Usuario"}),"\n",(0,a.jsx)(r.p,{children:"La ruta para actualizar un usuario es la siguiente :"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-http",metastring:'title="PUT"',children:" /api/users/:id\n"})}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-http",metastring:"title='Ruta en desarrollo'",children:" http://localhost:1337/api/users/5\n"})}),"\n",(0,a.jsx)(r.p,{children:"De la misma forma que el metodo POST, para actualizar se necesita la informaci\xf3n correspondiente a trav\xe9s del body:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-json",metastring:"title='body'",children:'{\r\n  "nombre":"nombrecambiado123",\r\n  "apellido":"apellidocambiado123",\r\n  "role":"1"\r\n}\n'})}),"\n",(0,a.jsx)(r.p,{children:"Devuelve los datos actualizados del usuario una vez que se actualizo con exito:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-json",metastring:"title='Respuesta'",children:'{\r\n  "id": 5,\r\n  "username": "prueba5",\r\n  "email": "prueba5@hotmail.com",\r\n  "provider": "local",\r\n  "confirmed": false,\r\n  "blocked": false,\r\n  "dni": "124578965",\r\n  "direccion": "calle123",\r\n  "createdAt": "2024-01-31T11:45:38.918Z",\r\n  "updatedAt": "2024-02-20T14:03:46.060Z",\r\n  "nombre": "nombrecambiado123",\r\n  "apellido": "apellidocambiado123",\r\n  "role": {\r\n    "id": 1,\r\n    "name": "Authenticated",\r\n    "description": "Default role given to authenticated user.",\r\n    "type": "authenticated",\r\n    "createdAt": "2024-01-26T14:46:35.078Z",\r\n    "updatedAt": "2024-02-08T12:34:28.159Z"\r\n  }\n'})}),"\n",(0,a.jsx)(r.h3,{id:"borrar-un-usuario",children:"Borrar un Usuario"}),"\n",(0,a.jsx)(r.p,{children:"La ruta para borrar un usuario es la siguiente :"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-http",metastring:'title="DELETE"',children:" /api/users/:id\n"})}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-http",metastring:"title='Ruta en desarrollo'",children:" http://localhost:1337/api/users/5\n"})}),"\n",(0,a.jsx)(r.p,{children:"Una vez eliminado el usuario, la ruta nos devuelve los datos del usuario eliminado:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-json",metastring:"title='Respuesta'",children:'{\r\n  "id": 5,\r\n  "username": "prueba5",\r\n  "email": "prueba5@hotmail.com",\r\n  "provider": "local",\r\n  "confirmed": false,\r\n  "blocked": false,\r\n  "dni": "124578965",\r\n  "direccion": "calle123",\r\n  "createdAt": "2024-01-31T11:45:38.918Z",\r\n  "updatedAt": "2024-02-20T14:03:46.060Z",\r\n  "nombre": "nombrecambiado123",\r\n  "apellido": "apellidocambiado123"\r\n}\n'})})]})}function u(e={}){const{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,a.jsx)(r,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},8453:(e,r,n)=>{n.d(r,{R:()=>t,x:()=>l});var a=n(6540);const s={},i=a.createContext(s);function t(e){const r=a.useContext(i);return a.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function l(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),a.createElement(i.Provider,{value:r},e.children)}}}]);